<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<title>My Orders</title>
	<link rel="stylesheet" href="css/myproducts.css">
	<link rel="stylesheet" href="css/sellerDashboard.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="fonts/fontawesome5-overrides.min.css">
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/jszip-2.5.0/dt-1.10.22/b-1.6.5/b-html5-1.6.5/datatables.min.css" />
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<style>
		div.dataTables_wrapper {
			width: 1000px;
			margin: 0;
		}
	</style>




</head>

<body id="page-top">


	<div id="wrapper">
		<nav class="navbar navbar-dark align-items-start sidebar sidebar-dark accordion bg-gradient-primary p-0" style="background: rgba(0,41,102,0.93);">
			<div class="container-fluid d-flex flex-column p-0"><a class="navbar-brand d-flex justify-content-center align-items-center sidebar-brand m-0" href="#">
					<div class="sidebar-brand-icon rotate-n-15"><i class="fas fa-shopping-cart"></i></div>
					<div class="sidebar-brand-text mx-3"><span>Cornerkart</span></div>
				</a>
				<hr class="sidebar-divider my-0">
				<ul class="navbar-nav text-light" id="accordionSidebar">
					<li class="nav-item"><a class="nav-link" href="/dashboard"><i class="fas fa-tachometer-alt"></i><span>Dashboard</span></a></li>
					<li class="nav-item"><a class="nav-link" href="/sellerprofile"><i class="fas fa-user"></i><span>Profile</span></a></li>
					<li class="nav-item"><a class="nav-link" href="/myproducts"><i class="fas fa-boxes"></i><span>My Products</span></a></li>
					<li class="nav-item"><a class="nav-link  active" href="/sellerOrders"><i class="fa fa-list-alt"></i><span>Orders</span></a></li>
					<li class="nav-item">
						<form action="/logout?_method=DELETE" method="post"><button class="nav-link" type="submit" style="color:rgba(255, 255, 255, .8);background-color: transparent;outline: none;border:none;box-shadow:none;"><i
									class="fa fa-power-off"></i><span>Logout</span></button></form>
					</li>
				</ul>
				<div class="text-center d-none d-md-inline"><button class="btn rounded-circle border-0" id="sidebarToggle" type="button"></button></div>
			</div>
		</nav>
		<div class="d-flex flex-column" id="content-wrapper">
			<div id="content">
				<nav class="navbar navbar-light navbar-expand bg-white shadow mb-4 topbar static-top">
					<div class="container-fluid"><button class="btn btn-link d-md-none rounded-circle me-3" id="sidebarToggleTop" type="button"><i class="fas fa-bars"></i></button>
						<form class="d-none d-sm-inline-block me-auto ms-md-3 my-2 my-md-0 mw-100 navbar-search">
							<div class="input-group"><input class="bg-light form-control border-0 small" type="text" placeholder="Search for ..."><button class="btn btn-primary py-0" type="button" style="background: rgba(0,41,102,0.93);"><i
										class="fas fa-search"></i></button></div>
						</form>
						<ul class="navbar-nav flex-nowrap ms-auto">
							<li class="nav-item dropdown d-sm-none no-arrow"><a class="dropdown-toggle nav-link" aria-expanded="false" data-bs-toggle="dropdown" href="#"><i class="fas fa-search"></i></a>
								<div class="dropdown-menu dropdown-menu-end p-3 animated--grow-in" aria-labelledby="searchDropdown">
									<form class="me-auto navbar-search w-100">
										<div class="input-group"><input class="bg-light form-control border-0 small" type="text" placeholder="Search for ...">
											<div class="input-group-append"><button class="btn btn-primary py-0" type="button"><i class="fas fa-search"></i></button></div>
										</div>
									</form>
								</div>
							</li>
							<div class="d-none d-sm-block topbar-divider"></div>
							<li class="nav-item dropdown no-arrow">
								<div class="nav-item dropdown no-arrow"><a class="dropdown-toggle nav-link" aria-expanded="false" data-bs-toggle="dropdown" href="#"><span class="d-none d-lg-inline me-2 text-gray-600 small"><%=name%></span>
										<img class="border rounded-circle img-profile" src="https://firebasestorage.googleapis.com/v0/b/cornerkart-cd3d7.appspot.com/o/<%=source%>?alt=media"></a>
									<div class="dropdown-menu shadow dropdown-menu-end animated--grow-in"><a class="dropdown-item" href="/sellerprofile"><i class="fas fa-user fa-sm fa-fw me-2 text-gray-400"></i>&nbsp;Profile</a>
										<div class="dropdown-divider"></div>
										<form action="/logout?_method=DELETE" method="post"><button class="dropdown-item" style="color:rgba(19, 19, 19, 0.8);background-color: transparent;outline: none;border:none;box-shadow:none;"><i
													class="fas fa-sign-out-alt fa-sm fa-fw me-2 text-gray-400"></i>&nbsp;Logout</button></form>
									</div>
								</div>
							</li>
						</ul>
					</div>
				</nav>

				<div class="container-fluid">
					<div class="d-sm-flex justify-content-between align-items-center mb-4">
						<h3 class="text-dark mb-0">My Orders</h3>
					</div>

				</div>


				<div class="container">
					<div class="row ">
						<div class="col-12 ">
							<table class="table table-image table-striped display table-bordered " id="test-table2" style="width: 100%; margin: 0 auto;">
								<thead>
									<tr>
										<th scope="col">Sr No.</th>
										<th scope="col">Order Id</th>
										<th scope="col">Total Amount</th>
										<th scope="col">Delivery</th>
										<th scope="col">Order Time & Date</th>
										<th scope="col">Order Status</th>
										<th scope="col"></th>
									</tr>
								</thead>
								<tbody>
									<%var i=1%>
									<% rows.forEach(function(row){ %>
									<tr data-link="/sellerOrdersDetail/<%=row.order_id%>" data-target="_BLANK">
										<td><%=i%></td>
										<td><u><%=  row.order_id %></u></td>
										<td><%= row.total_amount%></td>
										<td><%=  row.delivery_method %></td>
										<td><%=  row.ordered_timestamp %></td>
										<td style="color:red;"><%= row.order_status %>&nbsp;&nbsp;⏳</td>
										<td><button class="btn btn-primary btn-sm">View Details</button></td>
									</tr>
									<% i=i+1 }); %>
								</tbody>

							</table>
						</div>
					</div>
				</div>
				<footer class="bg-white sticky-footer">
					<div class="container my-auto">
						<div class="text-center my-auto copyright"><span>Copyright © CornerKart 2021</span></div>
					</div>
				</footer>
			</div>
			<a class="border rounded d-inline scroll-to-top" href="#page-top"><i class="fas fa-angle-up"></i></a>
		</div>
		<script>
			$(function() {
				$("table tr").click(function(e) {
					var u = $(this).data("link");
					var t = $(this).data("target");
					console.log(u, t);
					if (t.length) {
						window.open(u, t);
					} else {
						window.location.href = u;
					}
				});
			});
		</script>
		<script>
			$(document).ready(function() {
				var table = $('#test-table2').DataTable({
					dom: 'Bfrtip',
					"order": [[ 4, "desc" ]],
					lengthMenu: [
						[10, 25, 50, -1],
						['10 rows', '25 rows', '50 rows', 'Show all']
					],
					buttons: [{
							extend: 'pdf',
							exportOptions: {
								columns: [ 1, 2, 3, 4, 5]
							}
						},
						{
							extend: 'csv',
							footer: false

						},
						{
							extend: 'excel',
							footer: false
						},
						{
							extend: 'print',
							footer: false
						},
						{
							extend: 'copy',
							footer: false
						}, 'pageLength'
					],
					scrollX: true
				});
			});
		</script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.0-beta3/js/bootstrap.bundle.min.js"></script>
		<script src="theme.js"></script>

		<%- include("partials/footer") -%>
